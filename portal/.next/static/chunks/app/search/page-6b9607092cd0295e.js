(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{2333:function(e,s,a){Promise.resolve().then(a.bind(a,7098))},4232:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(8030).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},4241:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(8030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7098:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(7437),l=a(2265),n=a(6463),c=a(4817),r=a(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),d=(0,r.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var x=a(4232),h=a(2023),o=a(7390),m=a(4241),u=a(6883),p=a(9733),g=a(7209),y=a(9055),f=a(9354);let j=["All","HR","Operations","Finance","Legal"],v=["All","Policy","Benefits","Reference","IT","Safety","Compliance"];function b(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading search..."})}),children:(0,t.jsx)(N,{})})}function N(){var e,s;let a=(0,n.useSearchParams)(),r=(0,n.useRouter)(),b=null!==(e=a.get("q"))&&void 0!==e?e:"",N=null!==(s=a.get("dept"))&&void 0!==s?s:"All",[w,k]=(0,l.useState)(b),[C,S]=(0,l.useState)(b),[Z,A]=(0,l.useState)([]),[M,z]=(0,l.useState)(!1),[T,q]=(0,l.useState)(N),[I,R]=(0,l.useState)("All"),[_,D]=(0,l.useState)(),[E,O]=(0,l.useState)(!1),H=(0,l.useCallback)(async(e,s,a)=>{z(!0);try{let t=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,department:s,docType:a})}),l=await t.json();A(l.results)}catch(e){A([])}finally{z(!1)}},[]);(0,l.useEffect)(()=>{(w||"All"!==N)&&H(w,T,I)},[w,T,I,H,N]);let P=e=>e>=.9?"text-green-600 bg-green-50":e>=.8?"text-blue-600 bg-blue-50":"text-gray-600 bg-gray-50";return(0,t.jsxs)(u.Z,{initialChatQuery:_,children:[(0,t.jsx)("div",{className:"bg-navy py-6 px-4",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(C),r.push("/search?q=".concat(encodeURIComponent(C)))},className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(g.I,{type:"search",placeholder:"Search HR documents...",value:C,onChange:e=>S(e.target.value),className:"pl-10 bg-white h-11"})]}),(0,t.jsx)(p.z,{type:"submit",className:"bg-gold text-navy hover:bg-gold-500 h-11 px-6",children:"Search"})]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,t.jsx)("aside",{className:"lg:w-56 flex-shrink-0",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl border shadow-sm p-4 sticky top-20",children:[(0,t.jsxs)("button",{className:"flex items-center justify-between w-full lg:hidden mb-3",onClick:()=>O(!E),children:[(0,t.jsxs)("span",{className:"font-semibold text-navy flex items-center gap-2",children:[(0,t.jsx)(i,{className:"h-4 w-4"})," Filters"]}),(0,t.jsx)(d,{className:"h-4 w-4 transition-transform ".concat(E?"rotate-180":"")})]}),(0,t.jsxs)("div",{className:"space-y-5 ".concat(E?"block":"hidden lg:block"),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 flex items-center gap-1.5",children:[(0,t.jsx)(x.Z,{className:"h-3.5 w-3.5"})," Department"]}),(0,t.jsx)("div",{className:"space-y-1",children:j.map(e=>(0,t.jsx)("button",{onClick:()=>q(e),className:"w-full text-left text-sm px-2.5 py-1.5 rounded-md transition-colors ".concat(T===e?"bg-navy text-white font-medium":"text-gray-600 hover:bg-gray-50"),children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 flex items-center gap-1.5",children:[(0,t.jsx)(h.Z,{className:"h-3.5 w-3.5"})," Document Type"]}),(0,t.jsx)("div",{className:"space-y-1",children:v.map(e=>(0,t.jsx)("button",{onClick:()=>R(e),className:"w-full text-left text-sm px-2.5 py-1.5 rounded-md transition-colors ".concat(I===e?"bg-navy text-white font-medium":"text-gray-600 hover:bg-gray-50"),children:e},e))})]})]})]})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:M?"Searching...":w?"".concat(Z.length," result").concat(1!==Z.length?"s":"",' for "').concat(w,'"'):"All"!==T?"".concat(Z.length," documents in ").concat(T):"Enter a search query"}),w&&!M&&(0,t.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>D(w),className:"gap-1.5 text-navy border-navy hover:bg-navy hover:text-white",children:[(0,t.jsx)(o.Z,{className:"h-3.5 w-3.5"}),"Ask AI about this"]})]}),M&&(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl border p-5 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-3"}),(0,t.jsx)("div",{className:"h-3 bg-gray-100 rounded w-full mb-1.5"}),(0,t.jsx)("div",{className:"h-3 bg-gray-100 rounded w-4/5"})]},e))}),!M&&Z.length>0&&(0,t.jsx)("div",{className:"space-y-3",children:Z.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl border shadow-sm p-5 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-navy text-base leading-snug",children:e.title}),(0,t.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium flex-shrink-0 ".concat(P(e.score)),children:[Math.round(100*e.score),"% match"]})]}),(0,t.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed mb-3 line-clamp-3",children:e.excerpt}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Z,{className:"h-3.5 w-3.5"}),e.source," â€” p.",e.pageNumber]}),(0,t.jsx)(y.C,{variant:"outline",className:"text-xs",children:e.department}),(0,t.jsx)(y.C,{variant:"outline",className:"text-xs",children:e.docType}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{className:"h-3.5 w-3.5"}),(0,f.p)(e.lastUpdated)]})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(p.z,{variant:"outline",size:"sm",asChild:!0,className:"text-navy border-navy hover:bg-navy hover:text-white",children:(0,t.jsx)("a",{href:"/docs/".concat(e.id.replace("sr-","doc-0"),"?page=").concat(e.pageNumber),children:"View Document"})}),(0,t.jsxs)(p.z,{variant:"ghost",size:"sm",onClick:()=>D("Tell me more about: ".concat(e.title)),className:"text-gray-600 hover:text-navy gap-1",children:[(0,t.jsx)(o.Z,{className:"h-3.5 w-3.5"}),"Ask about this"]})]})]},e.id))}),!M&&0===Z.length&&(w||"All"!==T)&&(0,t.jsxs)("div",{className:"bg-white rounded-xl border p-12 text-center",children:[(0,t.jsx)(c.Z,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-700 mb-1",children:"No results found"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Try different keywords or ask the AI assistant."}),(0,t.jsxs)(p.z,{onClick:()=>D(w),className:"gap-2",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4"}),"Ask HR AI"]})]})]})]})})]})}}},function(e){e.O(0,[983,326,971,23,744],function(){return e(e.s=2333)}),_N_E=e.O()}]);