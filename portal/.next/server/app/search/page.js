(()=>{var e={};e.id=797,e.ids=[797],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7848:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),t(4856),t(2029),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4856)),"/Users/garretteaglin/Projects/res-hr-copilot/portal/src/app/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/garretteaglin/Projects/res-hr-copilot/portal/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/garretteaglin/Projects/res-hr-copilot/portal/src/app/search/page.tsx"],x="/search/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1074:(e,s,t)=>{Promise.resolve().then(t.bind(t,7762))},9734:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7762:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(326),r=t(7577),l=t(5047),n=t(8307),i=t(2881);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),o=(0,i.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var d=t(9734),x=t(6283),h=t(617),m=t(7358),p=t(2919),u=t(1664),g=t(1190),y=t(8443),j=t(1223);let v=["All","HR","Operations","Finance","Legal"],b=["All","Policy","Benefits","Reference","IT","Safety","Compliance"];function f(){return a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-400",children:"Loading search..."})}),children:a.jsx(N,{})})}function N(){let e=(0,l.useSearchParams)(),s=(0,l.useRouter)(),t=e.get("q")??"",i=e.get("dept")??"All",[f,N]=(0,r.useState)(t),[w,k]=(0,r.useState)(t),[P,C]=(0,r.useState)([]),[S,q]=(0,r.useState)(!1),[Z,_]=(0,r.useState)(i),[A,$]=(0,r.useState)("All"),[M,z]=(0,r.useState)(),[T,R]=(0,r.useState)(!1);(0,r.useCallback)(async(e,s,t)=>{q(!0);try{let a=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,department:s,docType:t})}),r=await a.json();C(r.results)}catch{C([])}finally{q(!1)}},[]);let U=e=>e>=.9?"text-green-600 bg-green-50":e>=.8?"text-blue-600 bg-blue-50":"text-gray-600 bg-gray-50";return(0,a.jsxs)(p.Z,{initialChatQuery:M,children:[a.jsx("div",{className:"bg-navy py-6 px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(w),s.push(`/search?q=${encodeURIComponent(w)}`)},className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(g.I,{type:"search",placeholder:"Search HR documents...",value:w,onChange:e=>k(e.target.value),className:"pl-10 bg-white h-11"})]}),a.jsx(u.z,{type:"submit",className:"bg-gold text-navy hover:bg-gold-500 h-11 px-6",children:"Search"})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("aside",{className:"lg:w-56 flex-shrink-0",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border shadow-sm p-4 sticky top-20",children:[(0,a.jsxs)("button",{className:"flex items-center justify-between w-full lg:hidden mb-3",onClick:()=>R(!T),children:[(0,a.jsxs)("span",{className:"font-semibold text-navy flex items-center gap-2",children:[a.jsx(c,{className:"h-4 w-4"})," Filters"]}),a.jsx(o,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),(0,a.jsxs)("div",{className:`space-y-5 ${T?"block":"hidden lg:block"}`,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 flex items-center gap-1.5",children:[a.jsx(d.Z,{className:"h-3.5 w-3.5"})," Department"]}),a.jsx("div",{className:"space-y-1",children:v.map(e=>a.jsx("button",{onClick:()=>_(e),className:`w-full text-left text-sm px-2.5 py-1.5 rounded-md transition-colors ${Z===e?"bg-navy text-white font-medium":"text-gray-600 hover:bg-gray-50"}`,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 flex items-center gap-1.5",children:[a.jsx(x.Z,{className:"h-3.5 w-3.5"})," Document Type"]}),a.jsx("div",{className:"space-y-1",children:b.map(e=>a.jsx("button",{onClick:()=>$(e),className:`w-full text-left text-sm px-2.5 py-1.5 rounded-md transition-colors ${A===e?"bg-navy text-white font-medium":"text-gray-600 hover:bg-gray-50"}`,children:e},e))})]})]})]})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:S?"Searching...":f?`${P.length} result${1!==P.length?"s":""} for "${f}"`:"All"!==Z?`${P.length} documents in ${Z}`:"Enter a search query"}),f&&!S&&(0,a.jsxs)(u.z,{variant:"outline",size:"sm",onClick:()=>z(f),className:"gap-1.5 text-navy border-navy hover:bg-navy hover:text-white",children:[a.jsx(h.Z,{className:"h-3.5 w-3.5"}),"Ask AI about this"]})]}),S&&a.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl border p-5 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-3"}),a.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-1.5"}),a.jsx("div",{className:"h-3 bg-gray-100 rounded w-4/5"})]},e))}),!S&&P.length>0&&a.jsx("div",{className:"space-y-3",children:P.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl border shadow-sm p-5 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-navy text-base leading-snug",children:e.title}),(0,a.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium flex-shrink-0 ${U(e.score)}`,children:[Math.round(100*e.score),"% match"]})]}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-3 line-clamp-3",children:e.excerpt}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(x.Z,{className:"h-3.5 w-3.5"}),e.source," â€” p.",e.pageNumber]}),a.jsx(y.C,{variant:"outline",className:"text-xs",children:e.department}),a.jsx(y.C,{variant:"outline",className:"text-xs",children:e.docType}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(m.Z,{className:"h-3.5 w-3.5"}),(0,j.p)(e.lastUpdated)]})]}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[a.jsx(u.z,{variant:"outline",size:"sm",asChild:!0,className:"text-navy border-navy hover:bg-navy hover:text-white",children:a.jsx("a",{href:`/docs/${e.id.replace("sr-","doc-0")}?page=${e.pageNumber}`,children:"View Document"})}),(0,a.jsxs)(u.z,{variant:"ghost",size:"sm",onClick:()=>z(`Tell me more about: ${e.title}`),className:"text-gray-600 hover:text-navy gap-1",children:[a.jsx(h.Z,{className:"h-3.5 w-3.5"}),"Ask about this"]})]})]},e.id))}),!S&&0===P.length&&(f||"All"!==Z)&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border p-12 text-center",children:[a.jsx(n.Z,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),a.jsx("h3",{className:"font-semibold text-gray-700 mb-1",children:"No results found"}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Try different keywords or ask the AI assistant."}),(0,a.jsxs)(u.z,{onClick:()=>z(f),className:"gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Ask HR AI"]})]})]})]})})]})}},4856:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var a=t(8570);let r=(0,a.createProxy)(String.raw`/Users/garretteaglin/Projects/res-hr-copilot/portal/src/app/search/page.tsx`),{__esModule:l,$$typeof:n}=r;r.default;let i=(0,a.createProxy)(String.raw`/Users/garretteaglin/Projects/res-hr-copilot/portal/src/app/search/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,347,801,905],()=>t(7848));module.exports=a})();